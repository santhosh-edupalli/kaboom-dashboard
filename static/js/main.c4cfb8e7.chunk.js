(this["webpackJsonpkaboom-dashboard"]=this["webpackJsonpkaboom-dashboard"]||[]).push([[0],{143:function(e,t){},147:function(e,t,a){},148:function(e,t,a){},149:function(e,t,a){},151:function(e,t,a){},152:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"getHistoricalData",(function(){return M})),a.d(n,"subscribeToData",(function(){return N})),a.d(n,"unsubscribeToData",(function(){return B}));var o=a(0),c=a.n(o),r=a(18),i=a.n(r),s=a(13),l=a(9),u=(a(75),a(61)),m=a(65),d=a(10),b=function(e){return e.map((function(e){return f(e)}))},f=function(e){var t=[];return e.split(",").slice(0,5).forEach((function(e){t.push(Number(e))})),t},h={loading:!1,historical_data:[],live_data:[],errorMessage:null},p=Object(l.c)({home:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"MAKE_HISTORICAL_DATA_REQUEST":return Object(d.a)(Object(d.a)({},e),{},{loading:!0,errorMessage:null});case"HISTORICAL_DATA_REQUEST_SUCCESS":return Object(d.a)(Object(d.a)({},e),{},{loading:!1,historical_data:b(t.data)});case"HISTORICAL_DATA_REQUEST_FAILURE":return Object(d.a)(Object(d.a)({},e),{},{loading:!1,errorMessage:t.errorMessage});case"SUBSCRIBE_TO_DATA_SUCCESS":return Object(d.a)(Object(d.a)({},e),{},{live_data:[f(t.data)].concat(Object(m.a)(e.live_data))});default:return Object(d.a)({},e)}}}),v=[u.a];var E=Object(l.d)(p,l.a.apply(void 0,v)),g=(a(76),a(77),a(25)),O=a(3),T=a(20),S=a(21),_=a(24),A=a(23),y=a(22),j=a.n(y),C=a(62),k=a.n(C),D={chart:{foreColor:"#fff",zoom:{enabled:!0,type:"x",autoScaleYaxis:!0},animations:{enabled:!1},type:"candlestick",height:"100%"},title:{text:"Historical Data",align:"left"},xaxis:{type:"datetime"},yaxis:{tooltip:{enabled:!0}}},I=a(63),x=a.n(I).a.create({baseURL:"http://kaboom.rksv.net",responseType:"json"}),R=a(64),U=a.n(R),w="".concat("http://kaboom.rksv.net","/watch"),H=U()(w);H.on("connect",(function(){console.log("socket connected")})),H.subscribeToData=function(e){H.emit("sub",{state:!0}),H.on("data",(function(t,a){e(null,t);a(1)})),H.on("error",(function(t){e(t)}))},H.unSubscribeToData=function(){H.emit("unsub",{state:!1})},H.on("disconnect",(function(){console.log("socket disconnected")}));var L=H;function M(){return function(e){return e({type:"MAKE_HISTORICAL_DATA_REQUEST"}),x.request({url:"/api/historical",method:"GET"}).then((function(t){var a=t.data;e({type:"HISTORICAL_DATA_REQUEST_SUCCESS",data:a})})).catch((function(t){var a=t.data,n=a&&a.message||"API failure. Try refreshing the browser";e({type:"HISTORICAL_DATA_REQUEST_FAILURE",message:n})}))}}var N=function(){return function(e){L.subscribeToData((function(t,a){t?console.log(t):e({type:"SUBSCRIBE_TO_DATA_SUCCESS",data:a})}))}},B=function(){return function(e){L.unSubscribeToData()}},Q=(a(146),a(147),function(e){Object(_.a)(a,e);var t=Object(A.a)(a);function a(e){return Object(T.a)(this,a),t.call(this,e)}return Object(S.a)(a,[{key:"componentDidMount",value:function(){this.props.getHistoricalData()}},{key:"render",value:function(){return c.a.createElement("div",null,this.props.home.loading?c.a.createElement(k.a,{className:"loader",type:"Circles",color:"rgba(50, 117, 233,0.5)"}):c.a.createElement("div",{className:"container"},c.a.createElement(j.a,{options:D,series:[{data:this.props.home.historical_data}],type:"candlestick",height:500})))}}]),a}(o.Component)),W=Object(s.b)((function(e,t){return{home:e.home}}),(function(e,t){return Object(l.b)(n,e)}))(Q),F={chart:{zoom:{enabled:!0,type:"x"},foreColor:"#fff",animations:{enabled:!1},type:"candlestick",height:350},plotOptions:{bar:{columnWidth:"10%"}},title:{text:"Live Data",align:"left"},xaxis:{type:"datetime"},yaxis:{tooltip:{enabled:!0}},tooltip:{enabled:!0,x:{show:!0,format:"dd MMM HH:mm:ss",formatter:void 0}}},z=(a(148),function(e){Object(_.a)(a,e);var t=Object(A.a)(a);function a(e){return Object(T.a)(this,a),t.call(this,e)}return Object(S.a)(a,[{key:"componentWillMount",value:function(){this.props.subscribeToData()}},{key:"componentWillUnmount",value:function(){this.props.unsubscribeToData()}},{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement("div",{className:"container"},c.a.createElement(j.a,{options:F,series:[{data:this.props.home.live_data}],type:"candlestick",height:500})))}}]),a}(o.Component)),J=Object(s.b)((function(e,t){return{home:e.home}}),(function(e,t){return Object(l.b)(n,e)}))(z),K="/",q="/live-data";a(149);function G(){return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"height-100"},c.a.createElement(g.a,null,c.a.createElement("div",{className:"nav"},c.a.createElement(g.b,{className:"nav-btn",exact:!0,activeClassName:"active-nav",to:K},"Home"),c.a.createElement(g.b,{className:"nav-btn",activeClassName:"active-nav",to:q},"Live Chart")),c.a.createElement(O.c,null,c.a.createElement(O.a,{path:K,exact:!0,component:W}),c.a.createElement(O.a,{path:q,exact:!0,component:J})))))}a(151);var P=function(){return c.a.createElement("div",{className:"App"},c.a.createElement(G,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(c.a.createElement(s.a,{store:E},c.a.createElement(P,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},66:function(e,t,a){e.exports=a(152)},76:function(e,t,a){},77:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"}},[[66,1,2]]]);
//# sourceMappingURL=main.c4cfb8e7.chunk.js.map